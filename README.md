# ะขะตะปะตะณัะฐะผ ะฑะพั ะดะปั ัะตะผะตะนะฝะพะณะพ ัะฐัะฐ ๐จโ๐ฉโ๐งโ๐ฆ
***
<p align="center">
<img src="https://github.com/exp-ext/family_bot/blob/main/bot-face.png" width="200">
</p>

## ะะฝ ัะผะตะตั:
- ััะฐะฝะธัั ะธ ะฟะพะบะฐะทัะฒะฐัั ัะฐะทะพะฒัะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั
- ะพะฟะพะฒะตัะฐัั ะพ ะดะฝัั ัะพะถะดะตะฝะธั
- ัะฐcัะบะฐะทัะฒะฐัั ะฐะฝะตะบะดะพัั
- ะดะฐะฒะฐัั ะฟัะพะณะฝะพะท ะฟะพะณะพะดั ะธ ัะตะบัััั ะฟะพะณะพะดั ะฝะฐ ัะปะธัะต
- ะฟะพะบะฐะทัะฒะฐัั ัะฟะธัะพะบ ะผะตัะพะฟัะธััะธะน ะฒ ะกะะฑ ะฝะฐ ัะตะณะพะดะฝััะฝะธะน ะดะตะฝั

### ะะฐะทะพะฒัะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั ToDo

ะะฐะทะพะฒัะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั ะพะฑัะทะฐัะตะปัะฝะพ ะดะพะปะถะฝั ัะพะดะตัะถะฐัั ะดะฐัั ะฒ ัะพัะผะฐัะต ##.##.##. ะัะปะธ ะฝะต ะฟัะพะฟะธัะฐัั ะฒัะตะผั ะฒ ัะตะบััะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั, ัะพ ะพะฝะพ ะฟะพ ัะผะพะปัะฐะฝะธั ะฑัะดะตั 7:15,ะธ ะพะฟะพะฒะตัะตะฝะธะต ะฟัะธะดะตั ะฒ ััะพ-ะถะต ะฒัะตะผั. ะัะปะธ ะฒ ัะตะบััะต ะฑัะดะตั ะฝะฐะฟะธัะฐะฝะพ ะบะพะฝะบัะตัะฝะพะต ะฒัะตะผั, ัะพ ะฑะพั ะพะฟะพะฒะตััะธั ะฒะฐั ะทะฐ 4 ัะฐัะฐ ะดะพ ะฝะตะณะพ.

ะัะธะผะตั: 20.12.2022 ะฒ 17:50 ะฒัััะตัะฐ ะฒ ะบะฐัะต ั ะะฐัะตะน.

### ะะถะตะณะพะดะฝัะต ะฝะฐะฟะพะผะธะฝะฐะฝะธั

ะ ะตะถะตะณะพะดะฝัั ะฝะฐะฟะพะผะธะฝะฐะฝะธัั ะฑะพั ะพะฟะพะฒะตัะฐะตั ะฒ 7:15 ะฝะฐ ะดะฐัั ะพะฟะพะฒะตัะตะฝะธั. ะัะปะธ ะฒ ัะตะบััะต ะฑัะป ะะผะพะดะถะธ ๐, ัะพ ะดะพะฟะพะปะฝะธัะตะปัะฝะพ ะฑัะดะตั ะพะฟะพะฒะตัะตะฝะธะต ะทะฐ 7 ะดะฝะตะน ะดะพ ะดะฐัั. ะญัะพ ะฝะฐ ัะปััะฐะน ะตัะปะธ ะฝัะถะฝะพ ะบัะฟะธัั ะฟะพะดะฐัะพะบ. ะ ัะพัะผะฐัะต ะดะฐัั ะฒ ะตะถะตะณะพะดะฝะพะณะพ ะพะฟะพะฒะตัะตะฝะธั ะฝะต ะดะพะปะถะฝะพ ะฑััั ะณะพะดะฐ, ัะพะปัะบะพ ะดะตะฝั ะธ ะผะตััั ##.##.

ะัะธะผะตั: 20.12 ะะ ั ะะฐัะธ ะะฐัะธะฝะพะน ๐

***
### ะะฝะตะบะดะพัั, ัะฟะธัะพะบ ะผะตัะพะฟัะธััะธะน ะธ ัะฟะธัะบะธ ั ะฝะฐะฟะพะผะธะฝะฐะฝะธัะผะธ ะผะพะถะฝะพ ะพัะพะฑัะฐะทะธัั ะฝะฐะถะฐะฒ ะฝะฐ ัะพะพัะฒะตัััะฒัััะธะต ะบะฝะพะฟะบะธ.

### ะัะพะณะฝะพะท ะฟะพะณะพะดั ะธ ะณะตะพะปะพะบะฐัะธั ะผะพะถะฝะพ ะฟะพะปััะธัั ัะพะปัะบะพ ะฒ ะปะธัะฝะพะผ ัะฐัะต ั ะฑะพัะพะผ.
***

## ะะพะดัะพะฑะฝะตะต ะพ ัะตะณะธัััะฐัะธัั:

โ๏ธะฒัะต ัะพะบะตะฝั ะธ ID ะทะฐะฟะธััะฒะฐะนัะต ะบัะดะฐ-ัะพ ะพัะดะตะปัะฝะพ ะฒ ัะฐะนะป.

ะะปั ะฝะฐัะฐะปะฐ ะฝะตะพะฑัะพะดะธะผะพ ัะพะทะดะฐัั ะฝะพะฒะพะณะพ ะฑะพัะฐ ะธ ะฟะพะปััะธัั ะตะณะพ ัะพะบะตะฝ. ะะตะปะฐะตััั ััะพ ัะตัะตะท[@BotFather](https://t.me/BotFather). ะะฐะปะตะต ะฒัะพะดะธะผ ะฒ ะฝะฐัััะพะนะบะธ ะธะฝะปะฐะนะฝ ัะตะถะธะผะฐ '/setinline' ะธ ะฒะบะปััะฐะตะผ ะตะณะพ.

ะะพัะปะต, ะดะปั ัะพะทะดะฐะฝะธั ะฑัััััั ะบะพะผะฐะฝะด, ะฝัะถะฝะพ ะฒะฒะตััะธ '/setcommands' ะธ ะฟะตัะตะดะฐัั
ัะฟะธัะพะบ ัะฐะผะธั ะบะพะผะฐะฝะด:

    help - ะฒัะฒะตััะธ ัะฟะธัะพะบ ะดะพัััะฟะฝัั ะบะพะผะฐะฝะด
    help_locatoin - ะฟะพะบะฐะทะฐัั ะบะฝะพะฟะบั ั ะทะฐะฟัะพัะพะผ ะฟะพะณะพะดั

ะะปั ะฟะพะปััะตะฝะธั ะะฐัะตะณะพ ID ะธ ID ะณััะฟะฟั ะผะพะถะฝะพ ะฒะพัะฟะพะปัะทะพะฒะฐัััั ะฑะพัะพะผ [@getmyid_bot](https://t.me/BotFather). ะะปั ััะพะณะพ ะฟัะพััะพ ะดะพะฑะฐะฒััะต ะตะณะพ ะฒ ะณััะฟะฟั. ะััะธัะฐัะตะปัะฝัะน ะฝะพะผะตั ััะพ ID ะณััะฟะฟั, ะฒัะพัะพะน ะฒะฐั. ะะต ะทะฐะฑัะฒะฐะตะผ ัะดะฐะปะธัั ััะพะณะพ ะฑะพัะฐ ะธะท ะณััะฟะฟั ) ะธ ะดะพะฑะฐะฒะธัั ัะฒะพะตะณะพ.

ะะปั ะฟะพะปััะตะฝะธั ะฟะพะณะพะดั ะฝะตะพะฑัะพะดะธะผะพ ะทะฐัะตะณะธัััะธัะพะฒะฐัััั ะธ ะฟะพะปััะธัั ัะพะบะตะฝ ะฝะฐ ัะฐะนัะต [Openweathermap](https://home.openweathermap.org/api_keys).

ะะปั ะณะตะพะปะพะบะฐัะธะธ ะฑัะดะตั ะฝัะถะฝะฐ ัะตะณะธัััะฐัะธั ะธ ะบะปัั ะพั ะฏะฝะดะตะบั API ะณะตะพะปะพะบะธัะธั. [ะขัั ะผะพะถะฝะพ ะฟะพะปััะธัั ะบะปัั ะธ ะฟะพัะธัะฐัั ะธั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะธ ะถะตะปะฐะฝะธะธ.](https://yandex.ru/dev/maps/geocoder/)

## ะะพะดัะพะฑะฝะตะต ะพ ัััะฐะฝะพะฒะบะต:

ะะพัะฐ ะฝะตะพะฑัะพะดะธะผะพ ัะฐะทะผะตััะธัั ะฝะฐ ัะตัะฒะตัะต. ะฏ ะฝะต ััะฐะป ะดะฐะปะตะบะพ ัะพะดะธัั, ัะฐะทะฒะตัะฝัะป ัะธััะตะผั Entware ั ัะตะฑั ะฝะฐ ััะพัะตัะต Keenetic Extra ะธ ัััะฐะฝะพะฒะธะป Python3 ะฒ ะฝะตะน. ะะฑ ัััะฐะฝะพะฒะบะต Entware ะผะพะถะฝะพ ะฟะพัะผะพััะตัั [ััั>>>](https://help.keenetic.com/hc/ru/articles/360021214160)

ะฃััะฐะฝะพะฒะบะฐ ะฑะพัะฐ ะฒ ัะธััะตะผะต Entware (ะตัะปะธ ะดััะณะฐั Unix, ัะพ ะฒะผะตััะพ opkg ะฑัะดะต sudo apt-get):

> ะงะตัะตะท ะบะพะผะฐะฝะดะฝัั ัััะพะบั ัััะฐะฝะฐะฒะปะธะฒะฐะตะผ python:

    $ opkg install python3

> ะฟะพัะปะต ััะฐะฒะธะผ ะผะตะฝะตะดะถะตั ะฟะฐะบะตัะพะฒ pip ะบะพะผะฐะฝะดะพะน:

    $ opkg install python3-pip

> ัััะฐะฝะฐะฒะปะธะฒะฐะตะผ curl:

    $ opkg install curl

> ะกะพะทะดะฐัะผ ะฝะตะพะฑัะพะดะธะผัั ะฟะฐะฟะบั:

    $ mkdir /opt/usr/bot

> ะฟะตัะตัะพะดะธะผ ะฒ ะฝะฐัั ะดะธัะตะบัะพัะธั:

    $ cd /opt/usr/bot

> ะทะฐะปะธะฒะฐะตะผ ะฒ ะฝะตั ัะฐะนะปั ั githab, ััะฐะทั ะดะตะปะฐั ะธั ะธัะฟะพะปะฝัะตะผัะผะธ:

    # ะบะพะฟะธััะนัะต ะธ ะฒะฒะพะดะธัะต ะฒ ัะตัะผะธะฝะฐะป ะฒัะต 5 ัััะพะบ ะฟะพะพัะตััะดะฝะพ
    
    $ curl -k -L https://raw.githubusercontent.com/exp-ext/family_bot/master/notebot.py -o notebot.py && chmod 755 notebot.py
    
    $ curl -k -L https://raw.githubusercontent.com/exp-ext/family_bot/master/config.py -o config.py && chmod 755 config.py
    
    $ curl -k -L https://raw.githubusercontent.com/exp-ext/family_bot/master/data_for_notebot.db -o data_for_notebot.db
    
    $ curl -k -L https://raw.githubusercontent.com/exp-ext/family_bot/master/requirements.txt -o requirements.txt

    $ curl -k -L https://raw.githubusercontent.com/exp-ext/family_bot/master/botstart.sh -o botstart.sh && chmod 755 botstart.sh

> ะฒ ัะพะน ะถะต ะฟะฐะฟะบะต ะพัะบััะฒะฐะตะผ ะฟัะธ ะฟะพะผะพัะธ vim ะบะพะฝัะธะณ:

    $ vi config.py

> ะถะผัะผ Insert ะดะปั ะฐะบัะธะฒะฐัะธะธ ัะตะถะธะผะฐ ะธะทะผะตะฝะตะฝะธั ะธ ะฒะฟะธััะฒะฐะตะผ ะฒ ะฝะตะณะพ ะฒัะต ID ะฟะพะปััะตะฝะฝัะต ะฟัะธ ัะตะณะธัััะฐัะธะธ ัะฐะฝะตะต.

> ะงัะพะฑ ัะพััะฐะฝะธัั ะธ ะฒัะนัะธ ะฝัะถะฝะพ ะฝะฐะถะฐัั Esc ะธ ะฒะฒะตััะธ ะบะพะผะฐะฝะดั :wq (ะพะฝะฐ ะฟะพัะฒะธััั ะฒะฝะธะทั)

> ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะฝะตะพะฑัะพะดะธะผัะต ะฑะธะฑะปะธะพัะตะบะธ:

    $ python3 -m pip install -r requirements.txt

> ะะฐะปะธะฒะฐะตะผ ัะบัะธะฟั ะทะฐะฟััะบะฐ ะฑะพัะฐ ะฟัะธ ะฟะตัะตะทะฐะณััะทะบะต ัะธััะตะผั ะฒ ะฟะฐะฟะบั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ:
    
    $ curl -k -L https://raw.githubusercontent.com/exp-ext/family_bot/master/botstart.sh -o /opt/etc/init.d/S77botstart.sh && chmod 755 /opt/etc/init.d/S77botstart.sh

> ะะฐัััะฐะธะฒะฐะตะผ crontab:

    $ vi /opt/etc/crontab

> ะธ ะฒ ะบะพะฝะตั ะฒัะตั ะทะฐะฟะธัะตะน ะฒััะฐะฒะปัะตะผ:

    */360 * * * * root /opt/usr/bot/botstart.sh

> ะธ ะฝะฐะบะพะฝะตั ะทะฐะฟััะบ ะฑะพัะฐ ๐:

    $ /opt/usr/bot/botstart.sh

## License
[MIT ยฉ Andrey Borokin](https://github.com/exp-ext/family_bot/blob/main/LICENSE.txt)
