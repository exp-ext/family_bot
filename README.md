# –¢–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç –¥–ª—è —Å–µ–º–µ–π–Ω–æ–≥–æ —á–∞—Ç–∞.
***
<img src="https://github.com/exp-ext/family_bot/blob/main/bot-face.png" width="200">

***

## –û–Ω —É–º–µ–µ—Ç:
- —Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ä–∞–∑–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- –æ–ø–æ–≤–µ—â–∞—Ç—å –æ –¥–Ω—è—Ö —Ä–æ–∂–¥–µ–Ω–∏—è
- —Ä–∞c—Å–∫–∞–∑—ã–≤–∞—Ç—å –∞–Ω–µ–∫–¥–æ—Ç—ã
- –¥–∞–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –∏ —Ç–µ–∫—É—â—É—é –ø–æ–≥–æ–¥—É –Ω–∞ —É–ª–∏—Ü–µ
- –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –≤ –°–ü–± –Ω–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–π –¥–µ–Ω—å

## –†–∞–∑–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è ToDo.
–†–∞–∑–æ–≤—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ ##.##.##. –ï—Å–ª–∏ –Ω–µ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤—Ä–µ–º—è –≤ —Ç–µ–∫—Å—Ç–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, —Ç–æ –æ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥–µ—Ç
7:15,–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –ø—Ä–∏–¥–µ—Ç –≤ —ç—Ç–æ-–∂–µ –≤—Ä–µ–º—è. –ï—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –±—É–¥–µ—Ç –Ω–∞–ø–∏—Å–∞–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –≤—Ä–µ–º—è, —Ç–æ –±–æ—Ç –æ–ø–æ–≤–µ—Å—Ç–∏—Ç –≤–∞—Å –∑–∞ 4 —á–∞—Å–∞ –¥–æ –Ω–µ–≥–æ.

–ü—Ä–∏–º–µ—Ä: 20.12.2022 –≤ 17:50 –≤—Å—Ç—Ä–µ—á–∞ –≤ –∫–∞—Ñ–µ —Å –í–∞—Å–µ–π.

## –ï–∂–µ–≥–æ–¥–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è.

–û –µ–∂–µ–≥–æ–¥–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö –±–æ—Ç –æ–ø–æ–≤–µ—â–∞–µ—Ç –≤ 7:15 –Ω–∞ –¥–∞—Ç—É –æ–ø–æ–≤–µ—â–µ–Ω–∏—è. –ï—Å–ª–∏ –≤ —Ç–µ–∫—Å—Ç–µ –±—ã–ª –ï–º–æ–¥–∂–∏ üéÅ, —Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –±—É–¥–µ—Ç –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –∑–∞ 7 –¥–Ω–µ–π –¥–æ –¥–∞—Ç—ã. –≠—Ç–æ –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∫—É–ø–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫. –í —Ñ–æ—Ä–º–∞—Ç–µ –¥–∞—Ç—ã –≤ –µ–∂–µ–≥–æ–¥–Ω–æ–≥–æ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≥–æ–¥–∞, —Ç–æ–ª—å–∫–æ –¥–µ–Ω—å –∏ –º–µ—Å—è—Ü ##.##.

–ü—Ä–∏–º–µ—Ä: 20.12 –î–† —É –í–∞—Å–∏ –í–∞—Å–∏–Ω–æ–π üéÅ

***
### –ê–Ω–µ–∫–¥–æ—Ç—ã, —Å–ø–∏—Å–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏ —Å–ø–∏—Å–∫–∏ —Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ –º–æ–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–∞–∂–∞–≤ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–Ω–æ–ø–∫–∏.

### –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ –ª–∏—á–Ω–æ–º —á–∞—Ç–µ —Å –±–æ—Ç–æ–º.
***

# –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è—Ö.

‚ö†Ô∏è–≤—Å–µ —Ç–æ–∫–µ–Ω—ã –∏ ID –∑–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ –∫—É–¥–∞-—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —Ñ–∞–π–ª.

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ —Ç–æ–∫–µ–Ω. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ —á–µ—Ä–µ–∑[@BotFather](https://t.me/BotFather). –î–∞–ª–µ–µ –≤—Ö–æ–¥–∏–º –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞ '/setinline' –∏ –≤–∫–ª—é—á–∞–µ–º –µ–≥–æ.

–ü–æ—Å–ª–µ, –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—ã—Å—Ç—Ä—ã—Ö –∫–æ–º–∞–Ω–¥, –Ω—É–∂–Ω–æ –≤–≤–µ—Å—Ç–∏ '/setcommands' –∏ –ø–µ—Ä–µ–¥–∞—Ç—å
—Å–ø–∏—Å–æ–∫ —Å–∞–º–∏—Ö –∫–æ–º–∞–Ω–¥:

    help - –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
    help_locatoin - –ø–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É —Å –∑–∞–ø—Ä–æ—Å–æ–º –ø–æ–≥–æ–¥—ã

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –í–∞—à–µ–≥–æ ID –∏ ID –≥—Ä—É–ø–ø—ã –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º [@getmyid_bot](https://t.me/BotFather). –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –≥—Ä—É–ø–ø—É. –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä —ç—Ç–æ ID –≥—Ä—É–ø–ø—ã, –≤—Ç–æ—Ä–æ–π –≤–∞—à. –ù–µ –∑–∞–±—ã–≤–∞–µ–º —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –±–æ—Ç–∞ –∏–∑ –≥—Ä—É–ø–ø—ã ) –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–µ–≥–æ.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –Ω–∞ —Å–∞–π—Ç–µ [Openweathermap](https://home.openweathermap.org/api_keys).

–î–ª—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –±—É–¥–µ—Ç –Ω—É–∂–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∫–ª—é—á –æ—Ç –Ø–Ω–¥–µ–∫—Å API –≥–µ–æ–ª–æ–∫–∏—Ü–∏—è. [–¢—É—Ç –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á –∏ –ø–æ—á–∏—Ç–∞—Ç—å –∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏.](https://yandex.ru/dev/maps/geocoder/)

# –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

–ë–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –Ø –Ω–µ —Å—Ç–∞–ª –¥–∞–ª–µ–∫–æ —Ö–æ–¥–∏—Ç—å, —Ä–∞–∑–≤–µ—Ä–Ω—É–ª —Å–∏—Å—Ç–µ–º—É Entware —É —Å–µ–±—è –Ω–∞ —Ä—É–æ—Ç–µ—Ä–µ Keenetic Extra –∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª Python3 –≤ –Ω–µ–π. –û–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ Entware –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [—Ç—É—Ç>>>](https://help.keenetic.com/hc/ru/articles/360021214160)

–ú–æ–Ω—Ç–∞–∂ –±–æ—Ç–∞ –≤ —Å–∏—Å—Ç–µ–º–µ Entware (–µ—Å–ª–∏ –¥—Ä—É–≥–∞—è Unix, —Ç–æ –≤–º–µ—Å—Ç–æ opkg –±—É–¥–µ sudo apt-get):

–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º python:

    $ opkg install python3

–ø–æ—Å–ª–µ —Å—Ç–∞–≤–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ pip –∫–æ–º–∞–Ω–¥–æ–π:

    $ opkg install python3-pip

—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º curl:

    $ opkg install curl

–°–æ–∑–¥–∞—ë–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –ø–∞–ø–∫—É:

    $ mkdir /opt/usr/bot

–ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–∞—à—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:

    $ cd /opt/usr/bot

–∏ –∑–∞–ª–∏–≤–∞–µ–º –≤ –Ω–µ—ë –±–æ—Ç–∞ —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª–∞–º–∏ –ø—Ä—è–º–æ —Å GIT HAB:

    $ curl https://github.com/exp-ext/family_bot/blob/main/ --output notebot.py

    $ curl https://github.com/exp-ext/family_bot/blob/main/ --output config.py

    $ curl https://github.com/exp-ext/family_bot/blob/main/ --output data_for_notebot.db

    $ curl https://github.com/exp-ext/family_bot/blob/main/ --output requirements.txt

    $ curl https://github.com/exp-ext/family_bot/blob/main/ --output botstart.sh

–≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ vim –∫–æ–Ω—Ñ–∏–≥:

    $ vi config.py

–∏ –≤–ø–∏—Å—ã–≤–∞–µ–º –≤ –Ω–µ–≥–æ –≤—Å–µ ID –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–Ω–µ–µ.

–ß—Ç–æ–± —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏ –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å Esc –∏ –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É :wq (–æ–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –≤–Ω–∏–∑—É)

—Å–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –µ–≥–æ:

    $ python3 -m venv venv

    $ source venv/bin/activate

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

    $ python3 -m pip install -r requirements.txt

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π Entware:

    $ cd /opt/etc/init.d

–∏ –∑–∞–ª–∏–≤–∞–µ–º –≤ –Ω–µ—ë —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ:

    $ curl https://github.com/exp-ext/family_bot/blob/main/ --output S77botstart.sh

–¥–µ–ª–∞–µ–º —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏:

    $ chmod +x /opt/usr/bot/notebot.py

    $ chmod +x /opt/usr/bot/config.py

    $ chmod +x /opt/usr/bot/botstart.sh

    $ chmod +x /opt/etc/init.d/S77botstart.sh

–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º crontab:

    $ vi /opt/etc/crontab

–∏ –≤ –∫–æ–Ω–µ—Ü –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –≤—Å—Ç–∞–≤–ª—è–µ–º:
    
    */360 * * * * root /opt/usr/bot/botstart.sh

–∏ –Ω–∞–∫–æ–Ω–µ—Ü –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ üöÄ:

    $ /opt/usr/bot/botstart.sh
